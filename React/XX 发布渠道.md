# 发布渠道

React 具有三个版本：

1. 最新版：作为稳定的使用版本（对应npm中的latest标签）
2. Next 版本：作为下一个使用版本（对应npm中的next标签）
3. 实验版本（Experimental channels）：提供实验性新功能（稳定性不保证）

最新版使用语义化版本控制（semver）。

预发布版本（应用于 Next 和实验渠道的版本）会根据其内容的哈希值生成版本，例如，Next 的版本为 0.0.0-1022ee0ec，实验版为 0.0.0-experimental-1022ee0ec。

将预发布版本发布到与稳定版本相同的注册表，可以利用支持 npm 工作流的工具，比如：unpkg 和 CodeSandbox。



# 版本号规则

最新版遵循语义化版本（[Semantic Versioning Specification](https://semver.org/#spec-item-7) 简称semver）控制：

当版本号为 x.y.z：

1. 修复严重 bug，修改 z 来发布修订版（15.0.0=>15.0.1）
2. 修复不严重 bug 或发布新功能，修改 y 来发布次要版本（15.0.0=>15.1.0）
3. 发布破坏性更新，修改 x 来发布主版本（15.0.0=>16.0.0）

## 不兼容的改动

应尽量减少主版本发布频率。比如 1 ～ 2 次/年。

## 对稳定性的承诺

即使不建议使用某功能，仍应该在 package 中提供对它的支持。或者编写自动脚本来帮助开发者升级。

## 根据警告逐渐升级

添加警告来提示未来的不兼容改动。

### 不兼容改动

下列变更时，不会升级主版本号：
1. 开发环境的警告
2. unstable_开头的API：作为试验性功能推出的API
3. alpha和canary版本：这些版本特有的API在稳定版可能会变化
4. 没有文档的API和内部数据结构：__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED、__reactInternalInstance$uk43rzhitjg 之类的内部属性不承诺一直有效

## 如果发布了次要版本但没有引入新特性，那为何不发布修订版？

因为发布修订版具有更高的标准，一般认为有严重bug和安全漏洞。不然开发者可以根据需要是否更新到次要版本。